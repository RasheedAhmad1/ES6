<!DOCTYPE html>
<html lang="en">
    <head>
        <title>OOP JavaScript</title>
        <!-- Linking style sheet -->
        <link rel="stylesheet" href="../Basics/style.css" />
    </head>
    <body>
        <h1>Object Oriented Programming in JavaScript</h1>

        <h2>JavaScript Objects</h2>
        <pre>
            <code>
                const car = {
                    name: 'BMW',
                    color: 'White',
                    manufacturer: {
                        name: 'Dallas',
                        location: 'United States of America'
                    }, 
                    topSpeed: 450,
                    applyBreaks: function() {
                        setTimeout(function() {
                        console.log('Car Stopped!');
                        }, 5000)
                      }
                    }
                    
                    console.log(car.name);
                    console.log(car.manufacturer.location);
                    console.log(car.topSpeed);
                    console.log(car.applyBreaks());
            </code>
            <samp>
                Output:
                    BMW
                    United States of America
                    450
                    Car Stopped!
            </samp>
        </pre>
        <p>We can also set a constructor function for an object.</p>

        <h3>Constructor function for Person objects</h3>
        
        <pre>
            <code>
                function Person(first, last, age, eye) {
                    this.firstName = first;
                    this.lastName = last;
                    this.age = age;
                    this.eyeColor = eye;
                    }
            </code>
        </pre>

        <h3>Create a Person object</h3>
        <pre>
            <code>
                const myFather = new Person("John", "Doe", 50, "blue");
            </code>
        </pre>

        <p>ECMAScript 2015, also known as ES6, introduced JavaScript Classes.<br />
        JavaScript Classes are templates/blueprints for JavaScript Objects.</p>
        <h2>Classes</h2>
        <h3>Class Syntax</h3>
        <pre>
            <code>
                class Classname {
                    constructor(); // A method which sets all properties and called automatically when an object is created

                    name = "Max"; // properties are like variables attached to classes/objects

                    call = () => { ... } // Methods are like functions attached to classes/objects
                }
            </code>
        </pre>
        <p>Use the keyword class to create a class.<br />
        Always add a method named constructor():<br />
        Example:</p>
        <pre>
            <code>
                class Employee {
                    constructor (givenName, givenNge) {
                        this.name = givenName;
                        this.age = givenNge;
                    }
                }
            </code>
        </pre>
        <p>The example above creates a class named "Employee".<br />
        The class has two initial properties: "name" and "age".</p>

        <h3>Using a class</h3>
        <p>When you have a class, you can use the class to create its objects<br />
        Example:</p>
        <code>let Employee1 = new Employee('Ali', 24);<br />
              let Employee2 = new Employee('Ahmad' 25);</code>
        <p>The example above uses the 'Employee' class to create two objects.<br />
        The constructor method is called automatically when a new object is created.</p>

        <h3>The Constructor Method</h3>
        <p>The constructor method is a special method:</p>
        <ul>
            <li>It has to have the exact name "constructor"</li>
            <li>It is executed automatically when a new object is created</li>
            <li>It is used to initialize object properties</li>
        </ul>
        <p>If you do not define a constructor method, JavaScript will add an empty constructor method.</p>

        <h3>Class Methods</h3>
        <p>Create a Class method named "joining_date", that returns the employee "Joining Date":</p>
        <pre>
            <code>
                class Employee {
                    constructor(name, age, year) {
                        this.age = age;
                        this.name = name;
                        this.year = year;
                    }

                    // User-defined method
                    joining_date() {
                        let age = this.age;
                        let name = this.name;

                        let date = new Date();
                        date = date.getFullYear() - this.year;
                        return `Name: ${name} 
                        Age: ${age} 
                        Joining data: ${date}`;
                    }

                    // Static method: which can be used/invoked without an object
                    static add(a, b) {
                        return a + b;
                    }
                }
            </code>
        </pre>

        <p>Now creating an object 'emp1' and invoking user-defined method</p>
        <code>
            let emp1 = new Employee('Akram', 32, 10);<br />
            console.log(emp1.joining_date());<br />
        </code>
        <samp>
            Output: Name: Akram<br />
            Age: 32<br />
            Joining data: 2012
        </samp>
        <h3>Invoking 'static' method</h3>
        <code>
            console.log(Employee.add(2, 3));<br />
        </code>
        <samp>
            Output: 5
        </samp>

        <h2>Inheritance</h2>
        <p>Uses to inherit a new class which have the parent class properties</p>
        <pre>
            <code>
                class Programmer extends Employee {
                    constructor(givenName, givenAge, givenYears_of_service, language) {
                        // super() means to invoke all the constructors of the parent class
                        super(givenName, givenAge, givenYears_of_service); // super() means to call the constructor of the parent class
                        this.language = language;
                    }
                }
        
                let p1 = new Programmer('Ahad', 23, 4, 'JavaScript');
                console.log(p1);
            </code>
        </pre>
        <sam>
            Output: Programmer {name: 'Ahad', age: 23, year: 4, language: 'JavaScript'}
        </sam>

        <h2>this keyword</h2>
        <p>In JavaScript, 'this' keyword refers to the current context. The this keyword<br />
        always refers to a single object and it is usually used inside a function or<br />
        a method to access properties and methods which are a part of the object which is<br />
        associated with the function.</p>

        <!-- Linking external JS files -->
        <script src="./objects.js"></script>
        <script src="./classes.js"></script>
        <script src="./this.js"></script>
    </body>
</html>